{"version":3,"file":"2-form.js","sources":["../src/js/2-form.js"],"sourcesContent":["// Оголошення об'єкта formData з порожніми значеннями\n\nlet formData = {\n    email: \"\",\n    message: \"\"\n};\n\nconst form = document.querySelector('.feedback-form');\n\n// перевірка локального сховища при завантаженні сторінки\nwindow.addEventListener('load', () => {\n    const saveData = localStorage.getItem('feedback-form-state');\n    if (saveData) {\n        formData.JSON.parse(saveData);\n        form.elements.email.value = formData.email;\n        form.elements.message.value = formData.message;\n    }\n});\n\n// Зберігання formData у локальне сховище\n \nconst saveLocalStorage = () => {\n    localStorage.setItem('feedback-form-state', JSON.stringify(formData));\n};\n\n// Делегування події 'input' для відстеження змін у полях форми\n\nform.addEventListener('input', (e) => {\n    formData[e.target.name] = e.target.value\n    saveLocalStorage();\n});\n\nform.addEventListener('submit', e => {\n  e.preventDefault();\n\n  if (!validator.isEmail(formData.email)) {\n    alert('Please enter a valid email address');\n    return;\n  }\n\n  if (validator.isEmpty(formData.message)) {\n    alert('Please enter a message');\n    return;\n  }\n\n  console.log(formData);\n\n  try {\n    // Очищення форми, об'єкта formData і локального сховища\n    localStorage.removeItem('feedback-form-state');\n  } catch (error) {\n    console.error('LocalStorage is not available:', error);\n  }\n\n  // Очищення об'єкта formData\n  formData = { email: '', message: '' };\n\n  // Скидання форми\n  form.reset();\n});\n\n"],"names":["formData","form","saveData","saveLocalStorage","e","error"],"mappings":"oCAEA,IAAIA,EAAW,CACX,MAAO,GACP,QAAS,EACb,EAEA,MAAMC,EAAO,SAAS,cAAc,gBAAgB,EAGpD,OAAO,iBAAiB,OAAQ,IAAM,CAClC,MAAMC,EAAW,aAAa,QAAQ,qBAAqB,EACvDA,IACAF,EAAS,KAAK,MAAME,CAAQ,EAC5BD,EAAK,SAAS,MAAM,MAAQD,EAAS,MACrCC,EAAK,SAAS,QAAQ,MAAQD,EAAS,QAE/C,CAAC,EAID,MAAMG,EAAmB,IAAM,CAC3B,aAAa,QAAQ,sBAAuB,KAAK,UAAUH,CAAQ,CAAC,CACxE,EAIAC,EAAK,iBAAiB,QAAUG,GAAM,CAClCJ,EAASI,EAAE,OAAO,IAAI,EAAIA,EAAE,OAAO,MACnCD,GACJ,CAAC,EAEDF,EAAK,iBAAiB,SAAUG,GAAK,CAGnC,GAFAA,EAAE,eAAc,EAEZ,CAAC,UAAU,QAAQJ,EAAS,KAAK,EAAG,CACtC,MAAM,oCAAoC,EAC1C,MACD,CAED,GAAI,UAAU,QAAQA,EAAS,OAAO,EAAG,CACvC,MAAM,wBAAwB,EAC9B,MACD,CAED,QAAQ,IAAIA,CAAQ,EAEpB,GAAI,CAEF,aAAa,WAAW,qBAAqB,CAC9C,OAAQK,EAAO,CACd,QAAQ,MAAM,iCAAkCA,CAAK,CACtD,CAGDL,EAAW,CAAE,MAAO,GAAI,QAAS,EAAE,EAGnCC,EAAK,MAAK,CACZ,CAAC"}